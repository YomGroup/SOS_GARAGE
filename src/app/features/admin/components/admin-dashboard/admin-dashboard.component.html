<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold mb-6">Tableau de Bord Administrateur</h1>

  <!-- Statistiques -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
    <!-- Carte V√©hicules -->
    <mat-card class="stats-card bg-gradient-to-br from-blue-600 to-blue-800">
      <mat-card-content class="flex items-center justify-between p-4 h-[140px]">
        <div>
          <h3 class="text-white text-lg font-semibold mb-1">V√©hicules</h3>
          <p class="text-white/80 text-sm font-medium mb-2">Total d√©clar√©s</p>
          <p class="text-white text-3xl font-bold">{{ stats.totalVehicules }}</p>
        </div>
        <div class="bg-white/10 p-3 rounded-lg flex items-center justify-center">
          <img src="assets/icons/folder.svg" alt="icon" class="w-10 h-10 filter brightness-0 invert" />
        </div>
      </mat-card-content>
    </mat-card>
  
    <!-- Carte Sinistres -->
    <mat-card class="stats-card bg-gradient-to-br from-purple-600 to-purple-800">
      <mat-card-content class="flex items-center justify-between p-4 h-[140px]">
        <div>
          <h3 class="text-white text-lg font-semibold mb-1">Sinistres</h3>
          <p class="text-white/80 text-sm font-medium mb-2">Total d√©clar√©s</p>
          <p class="text-white text-3xl font-bold">{{ stats.totalSinistres }}</p>
        </div>
        <div class="bg-white/10 p-3 rounded-lg flex items-center justify-center">
          <img src="assets/icons/process.svg" alt="icon" class="w-10 h-10 filter brightness-0 invert" />
        </div>
      </mat-card-content>
    </mat-card>
  
    <!-- Carte En cours -->
    <mat-card class="stats-card bg-gradient-to-br from-green-600 to-green-800">
      <mat-card-content class="flex items-center justify-between p-4 h-[140px]">
        <div>
          <h3 class="text-white text-lg font-semibold mb-1">En cours</h3>
          <p class="text-white/80 text-sm font-medium mb-2">En traitement</p>
          <p class="text-white text-3xl font-bold">{{ stats.enCours }}</p>
        </div>
        <div class="bg-white/10 p-3 rounded-lg flex items-center justify-center">
          <img src="assets/icons/alert.svg" alt="icon" class="w-10 h-10 filter brightness-0 invert" />
        </div>
      </mat-card-content>
    </mat-card>
  
    <!-- Carte √âpaves -->
    <mat-card class="stats-card bg-gradient-to-br from-red-600 to-red-800">
      <mat-card-content class="flex items-center justify-between p-4 h-[140px]">
        <div>
          <h3 class="text-white text-lg font-semibold mb-1">√âpaves</h3>
          <p class="text-white/80 text-sm font-medium mb-2">En attente</p>
          <p class="text-white text-3xl font-bold">{{ stats.epavesEnAttente }}</p>
        </div>
        <div class="bg-white/10 p-3 rounded-lg flex items-center justify-center">
          <img src="assets/icons/car-crash.svg" alt="icon" class="w-10 h-10 filter brightness-0 invert" />
        </div>
      </mat-card-content>
    </mat-card>
  </div>


<!-- Charts Row -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
  <!-- Monthly Case Trends -->
  <mat-card class="lg:col-span-2 bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/30 transition-all">
    <mat-card-content class="p-6">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-xl font-semibold text-gray-800">üìà Tendances mensuelles des dossiers</h2>
        <button mat-icon-button [matMenuTriggerFor]="chartMenu" class="text-gray-600">
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #chartMenu="matMenu">
          <button mat-menu-item>
            <mat-icon>download</mat-icon>
            <span>T√©l√©charger CSV</span>
          </button>
          <button mat-menu-item>
            <mat-icon>print</mat-icon>
            <span>Imprimer</span>
          </button>
        </mat-menu>
      </div>
      <app-line-chart></app-line-chart>
    </mat-card-content>
  </mat-card>

  <!-- Recent Activity -->
  <mat-card class="bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/30 transition-all">
    <mat-card-content class="p-6">
      <div class="text-2xl font-semibold text-purple-800 mb-8 flex items-center gap-2.5">
        <span>Activit√© r√©cente</span>
        <span class="text-red-400">üîî</span>
      </div>
      <div class="bg-white rounded-xl p-5 mb-4 shadow-lg border-l-4 border-green-400 transform transition-all duration-300 hover:translate-x-1 hover:shadow-2xl">
        <div class="flex items-center gap-3.5 mb-2">
          <div class="w-10 h-10 rounded-full bg-gradient-to-r from-green-400 to-green-500 flex items-center justify-center text-white">‚úì</div>
          <div class="text-lg font-semibold text-purple-800 flex-1">Le sinistre-001 a √©t√© trait√© avec succ√®s</div>
        </div>
        <div class="text-gray-500 text-sm font-medium">Il y a 30 mn</div>
      </div>

      <div class="bg-white rounded-xl p-5 mb-4 shadow-lg border-l-4 border-orange-400 transform transition-all duration-300 hover:translate-x-1 hover:shadow-2xl">
        <div class="flex items-center gap-3.5 mb-2">
          <div class="w-10 h-10 rounded-full bg-gradient-to-r from-orange-400 to-orange-500 flex items-center justify-center text-white">üìÑ</div>
          <div class="text-lg font-semibold text-purple-800 flex-1">Documents √† signer pour le sinistre-001</div>
        </div>
        <div class="text-gray-500 text-sm font-medium">Il y a 39 mn</div>
      </div>
    </mat-card-content>
  </mat-card>
</div>

<!-- Repair Analytics & Sinistre d√©clar√© -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
  <!-- Repair Performance -->
  <mat-card class="lg:col-span-2 bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/30 transition-all">
    <mat-card-content class="p-6">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-xl font-semibold text-purple-800">‚öôÔ∏è Performance des r√©parations</h2>
        <mat-button-toggle-group value="weekly" aria-label="P√©riode" class="bg-white/60 rounded-lg shadow-inner">
          <mat-button-toggle value="weekly">Hebdomadaire</mat-button-toggle>
          <mat-button-toggle value="monthly">Mensuel</mat-button-toggle>
          <mat-button-toggle value="yearly">Annuel</mat-button-toggle>
        </mat-button-toggle-group>
      </div>
      <app-bar-chart></app-bar-chart>
    </mat-card-content>
  </mat-card>

  <!-- Sinistre d√©clar√© -->
  <mat-card class="bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/30 transition-all">
    <mat-card-content class="p-6">
      <div class="text-2xl font-semibold text-purple-800 mb-8 flex items-center gap-2.5">
        <span>Sinistre d√©clar√©</span>
      </div>

      <div class="bg-white rounded-xl p-5 mb-4 shadow-lg border-l-4 border-gradient-to-br from-indigo-500 to-purple-600 transform transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl relative overflow-hidden">
        <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-indigo-500 to-purple-600 transform scale-x-0 origin-right transition-transform duration-300 hover:scale-x-100"></div>
        <div class="flex justify-between items-center mb-1">
          <div class="text-xl font-bold text-purple-800">SIN-001</div>
          <div class="bg-gradient-to-r from-green-400 to-green-500 text-white px-4 py-2 rounded-full text-sm font-medium shadow-md">Cl√¥tur√©</div>
        </div>
        <div class="text-purple-600 text-sm font-medium">Mercedes AMG - 15 Mai 2025</div>
      </div>

      <div class="bg-white rounded-xl p-5 mb-4 shadow-lg border-l-4 border-gradient-to-br from-indigo-500 to-purple-600 transform transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl relative overflow-hidden">
        <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-indigo-500 to-purple-600 transform scale-x-0 origin-right transition-transform duration-300 hover:scale-x-100"></div>
        <div class="flex justify-between items-center mb-1">
          <div class="text-xl font-bold text-purple-800">SIN-002</div>
          <div class="bg-gradient-to-r from-orange-400 to-orange-500 text-white px-4 py-2 rounded-full text-sm font-medium shadow-md">En cours</div>
        </div>
        <div class="text-purple-600 text-sm font-medium">BMW X5 - 16 Mai 2025</div>
      </div>

      <div class="bg-white rounded-xl p-5 mb-4 shadow-lg border-l-4 border-gradient-to-br from-indigo-500 to-purple-600 transform transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl relative overflow-hidden">
        <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-indigo-500 to-purple-600 transform scale-x-0 origin-right transition-transform duration-300 hover:scale-x-100"></div>
        <div class="flex justify-between items-center mb-1">
          <div class="text-xl font-bold text-purple-800">SIN-003</div>
          <div class="bg-gradient-to-r from-red-400 to-red-500 text-white px-4 py-2 rounded-full text-sm font-medium shadow-md">En attente</div>
        </div>
        <div class="text-purple-600 text-sm font-medium">Audi RS6 - 17 Mai 2025</div>
      </div>
    </mat-card-content>
  </mat-card>
</div>


  <!-- Onglets -->
  <mat-card class="mb-6">
    <mat-card-content class="p-4">
      <mat-tab-group (selectedTabChange)="onTabChange($event)" class="custom-tabs">
        <mat-tab label="Gestion des Dossiers">
          <app-dossier-management></app-dossier-management>
        </mat-tab>
        <mat-tab label="Validation Garages">
          <app-garage-validation></app-garage-validation>
        </mat-tab>
        <mat-tab label="Gestion des √âpaves">
          <app-epave-management></app-epave-management>
        </mat-tab>
        <mat-tab label="Gestion des R√¥les">
          <app-role-management></app-role-management>
        </mat-tab>
      </mat-tab-group>
    </mat-card-content>
  </mat-card>
</div> 