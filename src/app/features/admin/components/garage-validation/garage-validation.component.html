<div class="min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 p-4 md:p-6">

  <!-- Gestion des Garages -->
  <div class="content-section" id="garages">
    <div class="container-fluid">
      <!-- En-tête avec statistiques -->
      <div class="stats-cards mb-4">
        <div class="row">
          <div class="col-md-3">
            <div class="stat-card">
              <div class="stat-icon pending">
                <i class="fas fa-clock"></i>
              </div>
              <div class="stat-info">
                <h3>{{ stats.enAttente }}</h3>
                <p>En attente</p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="stat-card">
              <div class="stat-icon active">
                <i class="fas fa-check-circle"></i>
              </div>
              <div class="stat-info">
                <h3>{{ stats.actifs }}</h3>
                <p>Garages actifs</p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="stat-card">
              <div class="stat-icon rejected">
                <i class="fas fa-times-circle"></i>
              </div>
              <div class="stat-info">
                <h3>{{ stats.rejetes }}</h3>
                <p>Rejetés</p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="stat-card">
              <div class="stat-icon total">
                <i class="fas fa-building"></i>
              </div>
              <div class="stat-info">
                <h3>{{ stats.total }}</h3>
                <p>Total</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Filtres et recherche -->
      <div class="card mb-4">
        <div class="card-body">
          <div class="row align-items-center">
            <div class="col-md-3">
              <select class="form-select">
                <option value="">Tous les statuts</option>
                <option value="pending">En attente</option>
                <option value="active">Actif</option>
                <option value="rejected">Rejeté</option>
              </select>
            </div>
            <div class="col-md-3">
              <select class="form-select">
                <option value="">Toutes les régions</option>
                <option value="idf">Île-de-France</option>
                <option value="paca">Provence-Alpes-Côte d'Azur</option>
                <option value="occitanie">Occitanie</option>
              </select>
            </div>
            <div class="col-md-4">
              <div class="input-group">
                <span class="input-group-text"><i class="fas fa-search"></i></span>
                <input type="text" class="form-control" placeholder="Rechercher un garage...">
                </div>
            </div>
            <div class="col-md-2">
              <button class="btn btn-primary-custom w-100" (click)="ajouterGarage()">
                <i class="fas fa-plus me-2"></i>Nouveau
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Liste des garages -->
      <div class="garage-list">
        <!-- Garages en attente -->
        <div class="garage-card pending" *ngFor="let reparateur of reparateursEnAttente">
          <div class="garage-header">
            <div class="garage-title">
              <h4>{{ reparateur.name }} {{ reparateur.prenom }}</h4>
              <span class="badge pending">En attente</span>
            </div>
            <div class="garage-actions">
              <button class="btn btn-sm btn-success" title="Valider" (click)="validerReparateur(reparateur)">
                <i class="fas fa-check"></i>
              </button>
              <button class="btn btn-sm btn-danger" title="Rejeter" (click)="rejeterReparateur(reparateur)">
                <i class="fas fa-times"></i>
              </button>
            </div>
          </div>
          <div class="garage-content">
            <div class="garage-info">
              <div class="info-item">
                <i class="fas fa-map-marker-alt"></i>
                <span>{{ reparateur.adresse }}</span>
              </div>
              <div class="info-item">
                <i class="fas fa-phone"></i>
                <span>{{ reparateur.telephone }}</span>
              </div>
              <div class="info-item">
                <i class="fas fa-envelope"></i>
                <span>{{ reparateur.email }}</span>
              </div>
            </div>
            <div class="garage-details">
              <div class="detail-item">
                <span class="label">SIRET</span>
                <span class="value">{{ reparateur.documents?.siret ? 'Oui' : 'Non' }}</span>
              </div>
              <div class="detail-item">
                <span class="label">Commission</span>
                <span class="value">{{ reparateur.commission }}%</span>
              </div>
            </div>
          </div>
          <div class="garage-footer">
            <button class="btn btn-outline-primary" (click)="viewDetails(reparateur)">
              <i class="fas fa-eye me-2"></i>Voir détails
            </button>
          </div>
        </div>

        <!-- Garages actifs -->
        <div class="garage-card active" *ngFor="let reparateur of reparateursActifs">
          <div class="garage-header">
            <div class="garage-title">
              <h4>{{ reparateur.name }} {{ reparateur.prenom }}</h4>
              <span class="badge active">Actif</span>
            </div>
            <div class="garage-actions">
              <button class="btn btn-sm btn-warning" title="Suspendre">
                <i class="fas fa-pause"></i>
              </button>
              <button class="btn btn-sm btn-danger" title="Désactiver">
                <i class="fas fa-ban"></i>
              </button>
            </div>
          </div>
          <div class="garage-content">
            <div class="garage-info">
              <div class="info-item">
                <i class="fas fa-map-marker-alt"></i>
                <span>{{ reparateur.adresse }}</span>
              </div>
              <div class="info-item">
                <i class="fas fa-phone"></i>
                <span>{{ reparateur.telephone }}</span>
              </div>
              <div class="info-item">
                <i class="fas fa-envelope"></i>
                <span>{{ reparateur.email }}</span>
              </div>
            </div>
            <div class="garage-details">
              <div class="detail-item">
                <span class="label">SIRET</span>
                <span class="value">{{ reparateur.documents?.siret ? 'Oui' : 'Non' }}</span>
              </div>
              <div class="detail-item">
                <span class="label">Commission</span>
                <span class="value">{{ reparateur.commission }}%</span>
              </div>
            </div>
          </div>
          <div class="garage-footer">
            <button class="btn btn-outline-primary" (click)="viewDetails(reparateur)">
              <i class="fas fa-eye me-2"></i>Voir détails
            </button>
          </div>
        </div>
      </div>

      <!-- Pagination -->
      <nav aria-label="Navigation des garages">
        <ul class="pagination justify-content-center">
          <li class="page-item disabled">
            <a class="page-link" href="#" tabindex="-1">Précédent</a>
          </li>
          <li class="page-item active"><a class="page-link" href="#">1</a></li>
          <li class="page-item"><a class="page-link" href="#">2</a></li>
          <li class="page-item"><a class="page-link" href="#">3</a></li>
          <li class="page-item">
            <a class="page-link" href="#">Suivant</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>
